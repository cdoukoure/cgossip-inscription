<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="card">
                    <div class="card-header card-header-danger">
                        <h4 class="card-title">Mot de passe</h4>
                        <p class="card-category">Modifier mon mot de passe</p>
                    </div>
                    <div class="card-body">
                        <form novalidate [ngrxFormState]="sandBox.passwordFormState$ | async" >
                            <div class="row">                           
                              <div class="col-md-12">
                                  <mat-form-field class="example-full-width">
                                          <input matInput type="password" 
                                          [ngrxFormControlState]="(sandBox.passwordFormState$ | async).controls.passe" 
                                          placeholder="Nouveau mot de passe"
                                          />
                                  </mat-form-field>                                    
                              </div>
                            </div>
                            <div class="row">                           
                              <div class="col-md-12">
                                  <mat-form-field class="example-full-width">
                                      <input matInput type="password" 
                                      [ngrxFormControlState]="(sandBox.passwordFormState$ | async).controls.cpasse" 
                                      placeholder="Confirmation du mot de passe"
                                      />
                                  </mat-form-field>                                    
                              </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <button mat-raised-button type="button" 
                                        matTooltip="Valider la modification de mon mot de passe" 
                                        [disabled]="!(sandBox.passwordFormState$ | async).isValid || !(sandBox.passwordFormState$ | async).isTouched"
                                        [matTooltipPosition]="'above'"
                                        [swal]="{title: 'Mot de passe', 
                                            text: 'Êtes-vous sûr de vouloir modifier votre mot de passe?',
                                            width: 400,
                                            height: 150,
                                            showCloseButton: true,
                                            showCancelButton: true,
                                            focusConfirm: false,
                                            confirmButtonText:'Oui, continuez!',
                                            confirmButtonAriaLabel: 'Oui, continuez!',
                                            confirmButtonClass: 'btn btn-danger btn-sm',
                                            cancelButtonText:'Annuler',
                                            cancelButtonAriaLabel: 'Annuler',
                                            cancelButtonClass: 'btn btn-default btn-sm',
                                            allowEnterKey: false}"
                                        (confirm)="onConfirmUpdatePasswordDialog($event)"
                                        class="btn btn-block btn-warning">
                                        Valider
                                    </button>
                                </div>
                                <div class="col-md-6">
                                    <button  mat-raised-button type="button" 
                                        class="btn btn-block btn-info pull-right" 
                                        (click)="backClicked()">
                                        Retour
                                    </button>
                                </div>
                            </div>
                            <div class="row" *ngIf="sandBox.isLoading$ | async">  
                                <div class="col-md-12">
                                    <mat-progress-bar matBar
                                        color="warn"
                                        mode="indeterminate"
                                        value="50">
                                    </mat-progress-bar>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
  